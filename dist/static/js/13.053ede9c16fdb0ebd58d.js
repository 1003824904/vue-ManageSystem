webpackJsonp([13],{512:function(t,r,e){var o=e(195)(e(537),e(584),null,null);t.exports=o.exports},537:function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={data:function(){return{url:"/ccdproduct/product/queryProductById.htm",url0:"/ccdproduct/platform/queryAllPlatformInfo.htm",url1:"/ccdproduct/product/updateProductBaseInfo.htm",itemList:Array,Properties:[],form:{platformName:"",productName:"",productUrl:"",productPresentation:"",display:""}}},created:function(){this.getDataQueryName();var t=this.$route.query.productId;this.getDataQuery(t)},methods:{onUpdate:function(){var t=this.form.platformName,r=this.form.productName,e=this.form.productUrl,o=this.form.productPresentation,a=this.form.display,l=this.itemList[t],c=this.form.Id;return console.log(l,a),""==l?(this.$message.error("请填写平台名称"),!1):""==r?(this.$message.error("请填写产品名称"),!1):void this.UpdateData(t,r,e,o,a,c,l)},getDataQueryName:function(){var t=this;t.$axios.post(t.url0,{}).then(function(r){t.Properties=r.data.content;for(var e=0,o=t.Properties.length;e<o;e++){var a=t.Properties[e].platformId,l=t.Properties[e].platformName;t.itemList[a]=l}}).catch(function(t){console.log("调用失败1",t)})},getDataQuery:function(t){var r=this;this.$axios.get("/ccdproduct/product/queryProductById.htm?productId="+t).then(function(e){r.form.productName=e.data.content.productName,r.form.productUrl=e.data.content.productUrl,r.form.productPresentation=e.data.content.productPresentation,r.form.display=e.data.content.isDisplay,r.form.platformName=e.data.content.platformId,r.form.Id=t}).catch(function(t){console.log("调用失败0",t)})},UpdateData:function(t,r,e,o,a,l,c){var s=this,n=this;n.$axios.post(n.url1,{platformId:t,productName:r,productUrl:e,productPresentation:o,display:a,productId:l,platformName:c}).then(function(t){s.$message.success("更新成功！"),s.form.productName="",s.form.productUrl="",s.form.productPresentation="",s.form.isDisplay="",s.form.platformName="",s.$router.push({path:"productupdate1",query:{productId:l}})}).catch(function(t){console.log("调用失败2",t)})},onCancel:function(){this.form.productName="",this.form.productUrl="",this.form.productPresentation="",this.form.isDisplay="",this.form.platformName=""}}}},584:function(t,r){t.exports={render:function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",[e("div",{staticClass:"crumbs"},[e("el-breadcrumb",{attrs:{separator:"/"}},[e("el-breadcrumb-item",[e("i",{staticClass:"el-icon-date"}),t._v(" 筛选条件")]),t._v(" "),e("el-breadcrumb-item",[t._v("创建筛选条件")])],1)],1),t._v(" "),e("div",{staticClass:"form-box"},[e("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[e("el-form-item",{attrs:{label:"平台名称"}},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.platformName,callback:function(r){t.form.platformName=r},expression:"form.platformName"}},t._l(t.Properties,function(t,r){return e("el-option",{attrs:{label:t.platformName,value:t.platformId}})}))],1),t._v(" "),e("el-form-item",{attrs:{label:"产品名称"}},[e("el-input",{model:{value:t.form.productName,callback:function(r){t.form.productName=r},expression:"form.productName"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"访问地址"}},[e("el-input",{attrs:{type:"textarea"},model:{value:t.form.productUrl,callback:function(r){t.form.productUrl=r},expression:"form.productUrl"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"申请材料"}},[e("el-input",{attrs:{type:"textarea"},model:{value:t.form.productPresentation,callback:function(r){t.form.productPresentation=r},expression:"form.productPresentation"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"是否展示"}},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.display,callback:function(r){t.form.display=r},expression:"form.display"}},[e("el-option",{key:"bbk",attrs:{label:"是",value:!0}}),t._v(" "),e("el-option",{key:"xtc",attrs:{label:"否",value:!1}})],1)],1),t._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.onUpdate}},[t._v("更新")]),t._v(" "),e("el-button",{on:{click:t.onCancel}},[t._v("取消")])],1)],1)],1)])},staticRenderFns:[]}}});